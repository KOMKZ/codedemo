<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
</head>
<style>
div{
	width : 100px;
	height : 100px;
}
</style>
<body>
	<div id="app">
		<!-- <input v-focus type="text">
		<div v-demo:name.foo.bar="message"></div> -->
		<div v-color-switch="color"></div>
		<div v-color-switch="{color : '#999'}"></div>
	</div>
</body>
<script src="./dist/vue.js"></script>
<script>
	/**
	// 全局注册指令
	Vue.directive('focus', {
		inserted : function(el){
			el.focus();
		}
	});
	let app = new Vue({
		el : '#app'
	});

	// 也可以在组件内部进行注册
	let app = new Vue({
		el : '#app',
		directives : {
			focus : {
				inserted : function(el){
					el.focus();
				}
			}
		}
	});

	Vue.directive('demo', {
	  bind: function (el, binding, vnode) {
		var s = JSON.stringify
		el.innerHTML =
		  'name: '       + s(binding.name) + '<br>' +
		  'value: '      + s(binding.value) + '<br>' +
		  'expression: ' + s(binding.expression) + '<br>' +
		  'argument: '   + s(binding.arg) + '<br>' +
		  'modifiers: '  + s(binding.modifiers) + '<br>' +
		  'vnode keys: ' + Object.keys(vnode).join(', ')
	  }
	})
	new Vue({
	  el: '#app',
	  data: {
		message: 'hello!'
	  }
	})

	// 默认就是传参到bind的参数
	Vue.directive('color-switch', function(el, binding){
		el.style.backgroundColor = binding.value;

	});
	new Vue({
		el : '#app',
		data : {
			color : '#000'
		}
	});

	 */

	Vue.directive('color-switch', function(el, binding){
		if(typeof binding.value == 'object'){
			el.style.backgroundColor = binding.value.color;
		}else{
			el.style.backgroundColor = binding.value;
		}
	});
	new Vue({
		el : '#app',
		data : {
			color : '#000'
		}
	});





</script>
</html>
